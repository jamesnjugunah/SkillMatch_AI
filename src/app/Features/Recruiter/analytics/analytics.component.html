<!-- analytics.component.html -->
<div class="analytics-dashboard">
  <!-- Header with time period selector -->
  <div class="dashboard-header">
    <h1>Recruitment Analytics Dashboard</h1>
    <div class="period-selector">
      <label for="timePeriod">Time Period:</label>
      <select id="timePeriod" [(ngModel)]="selectedPeriod">
        <option *ngFor="let period of timePeriods" [value]="period">{{ period }}</option>
      </select>
    </div>
  </div>

  <!-- Key Metrics Cards -->
  <div class="metrics-cards">
    <div class="metric-card" *ngFor="let metric of keyMetrics">
      <h3>{{ metric.name }}</h3>
      <div class="metric-value">{{ metric.value }}</div>
      <div class="metric-trend" [ngClass]="{'trend-up': metric.up, 'trend-down': !metric.up}">
        {{ metric.trend }}
        <span class="trend-arrow">{{ metric.up ? '↑' : '↓' }}</span>
      </div>
    </div>
  </div>

  <!-- Charts Section -->
  <div class="charts-section">
    <!-- Applications Over Time -->
    <div class="chart-container">
      <h2>Applications Over Time</h2>
      <canvas id="applicationsChart"></canvas>
    </div>

    <!-- Hiring Funnel -->
    <div class="chart-container">
      <h2>Hiring Funnel</h2>
      <canvas id="hiringFunnelChart"></canvas>
    </div>

    <!-- Application Sources -->
    <div class="chart-container">
      <h2>Application Sources</h2>
      <canvas id="sourcesChart"></canvas>
    </div>

    <!-- Time to Hire by Department -->
    <div class="chart-container">
      <h2>Time to Hire by Department (Days)</h2>
      <canvas id="timeToHireChart"></canvas>
    </div>
  </div>

  <!-- Department Metrics Table -->
  <div class="department-metrics">
    <h2>Department Metrics</h2>
    <div class="table-responsive">
      <table>
        <thead>
          <tr>
            <th>Department</th>
            <th>Open Positions</th>
            <th>Applications</th>
            <th>Interviews</th>
            <th>Offers</th>
            <th>Time to Hire (days)</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let dept of departmentMetrics">
            <td>{{ dept.name }}</td>
            <td>{{ dept.openPositions }}</td>
            <td>{{ dept.applications }}</td>
            <td>{{ dept.interviews }}</td>
            <td>{{ dept.offers }}</td>
            <td>{{ dept.timeToHire }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>