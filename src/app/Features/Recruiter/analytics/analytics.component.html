<!-- analytics.component.html -->
<div class="container px-4 py-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1>Analytics</h1>
      
      <div class="d-flex align-items-center">
        <div class="me-3">
          <select class="form-select" [(ngModel)]="selectedPeriod">
            <option *ngFor="let period of timePeriods" [value]="period">
              {{ period }}
            </option>
          </select>
        </div>
        <button class="btn btn-outline-primary">
          <i class="bi bi-download me-2"></i>Export
        </button>
      </div>
    </div>
  
    <!-- Key Metrics -->
    <div class="row g-4 mb-4">
      <div *ngFor="let metric of keyMetrics" class="col">
        <div class="card h-100">
          <div class="card-body">
            <h6 class="text-muted">{{ metric.name }}</h6>
            <div class="d-flex align-items-baseline">
              <h3 class="me-2">{{ metric.value }}</h3>
              <span [ngClass]="metric.up ? 'text-success' : 'text-danger'">
                <i class="bi" [ngClass]="metric.up ? 'bi-arrow-up' : 'bi-arrow-down'"></i>
                {{ metric.trend }}
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Charts Row 1 -->
    <div class="row g-4 mb-4">
      <div class="col-md-8">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Applications Over Time</h5>
            <div class="chart-container">
              <!-- This would be a real chart in production -->
              <div class="placeholder-chart line-chart">
                <div class="chart-message">
                  Line chart showing application trends over time
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Application Sources</h5>
            <div class="chart-container">
              <!-- This would be a real chart in production -->
              <div class="placeholder-chart pie-chart">
                <div class="chart-message">
                  Pie chart showing application sources
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Charts Row 2 -->
    <div class="row g-4 mb-4">
      <div class="col-md-6">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Hiring Funnel</h5>
            <div class="chart-container">
              <!-- This would be a real chart in production -->
              <div class="placeholder-chart bar-chart">
                <div class="chart-message">
                  Bar chart showing hiring funnel conversion
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">Time to Hire by Department</h5>
            <div class="chart-container">
              <!-- This would be a real chart in production -->
              <div class="placeholder-chart bar-chart">
                <div class="chart-message">
                  Bar chart showing average time to hire by department
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Department Metrics Table -->
    <div class="card mb-4">
      <div class="card-header bg-light">
        <h5 class="mb-0">Department Metrics</h5>
      </div>
      <div class="card-body p-0">
        <div class="table-responsive">
          <table class="table table-hover mb-0">
            <thead>
              <tr>
                <th>Department</th>
                <th>Open Positions</th>
                <th>Applications</th>
                <th>Interviews</th>
                <th>Offers</th>
                <th>Time to Hire (days)</th>
                <th>Conversion Rate</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let dept of departmentMetrics">
                <td>{{ dept.name }}</td>
                <td>{{ dept.openPositions }}</td>
                <td>{{ dept.applications }}</td>
                <td>{{ dept.interviews }}</td>
                <td>{{ dept.offers }}</td>
                <td>{{ dept.timeToHire }}</td>
                <td>{{ (dept.offers / dept.applications * 100).toFixed(1) }}%</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  
    <!-- AI Insights -->
    <div class="card">
      <div class="card-header bg-primary text-white d-flex align-items-center">
        <i class="bi bi-lightbulb me-2"></i>
        <h5 class="mb-0">AI Insights</h5>
      </div>
      <div class="card-body">
        <div class="alert alert-light mb-0">
          <h6>Hiring Process Optimization</h6>
          <p>Based on your recent hiring data, we've identified that technical interviews for engineering positions are taking 30% longer than industry average. Consider implementing a structured technical assessment before the interview to streamline the process.</p>
          
          <h6 class="mt-3">Candidate Source Effectiveness</h6>
          <p>Referrals are providing the highest quality candidates with a 28% conversion rate to hire, compared to 7% from job boards. Consider implementing an enhanced employee referral program.</p>
          
          <h6 class="mt-3">Diversity & Inclusion</h6>
          <p>Your gender diversity has improved by 12% in technical roles over the past quarter. Continue focusing on inclusive job descriptions and diverse interview panels to maintain this positive trend.</p>
        </div>
      </div>
    </div>
  </div>